<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>08-canvas线性渐变</title>
</head>

<body>
  <canvas id="c1" width="600" height="400"></canvas>

  <script>
    const canvas = document.getElementById('c1');
    const ctx = canvas.getContext('2d');
    // 3.1 绘制图形
    // 3.1.1 绘制矩形fillRect(位置x, 位置y, 宽度, 高度)
    // 线性渐变
    // const linearGradient = ctx.createLinearGradient(100, 200, 400, 200);
    // linearGradient.addColorStop(0, 'red');
    // linearGradient.addColorStop(0.5, 'yellow');
    // linearGradient.addColorStop(1, 'blue');
    // ctx.fillStyle = linearGradient;
    // ctx.fillRect(100, 200, 300, 300);

    let index = 0;

    function render() {
      // 清除上一帧的样式
      ctx.clearRect(100, 200, 300, 300);
      index += 0.001;
      if (index > 1) {
        index = 0;
      }
      const linearGradient = ctx.createLinearGradient(100, 200, 400, 200);
      linearGradient.addColorStop(0, 'red');
      linearGradient.addColorStop(index, '#ffcccc');
      linearGradient.addColorStop(1, 'blue');
      ctx.fillStyle = linearGradient;
      ctx.fillRect(100, 200, 300, 300);
      requestAnimationFrame(render);
    }
    render();
  </script>
</body>

</html>